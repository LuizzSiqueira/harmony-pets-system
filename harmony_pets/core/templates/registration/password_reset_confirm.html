{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Definir nova senha â€“ {{ site_name|default:"Harmony Pets" }}</title>
  <style>
    body { margin:0; background:#f0f4f8; font-family:Arial, Helvetica, sans-serif; }
    .wrap { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }
    .card { width:100%; max-width:560px; background:#fff; border:1px solid #e2e8f0; border-radius:16px; box-shadow:0 4px 12px rgba(17,24,39,.08); overflow:hidden; }
    .header { background:linear-gradient(135deg,#1e3a8a,#2563eb 55%,#4f46e5); padding:24px; text-align:center; }
    .header img { width:160px; height:auto; display:block; margin:0 auto; filter:drop-shadow(0 2px 4px rgba(0,0,0,.25)); }
    .header h1 { margin:14px 0 2px; color:#fff; font-size:22px; }
    .header p { margin:0; color:#e0e7ff; font-size:13px; }
    .body { padding:24px 28px; color:#1f2937; }
    .body p { margin:0 0 12px; }
    .form-group { margin:14px 0; }
    .label { font-size:13px; color:#374151; font-weight:600; margin-bottom:6px; display:block; }
    .input { width:100%; padding:12px 14px; border:1px solid #e5e7eb; border-radius:10px; font-size:14px; }
    .btn { display:inline-block; background:linear-gradient(90deg,#10b981,#059669); color:#fff; text-decoration:none; font-weight:700; font-size:15px; padding:12px 22px; border-radius:50px; border:0; cursor:pointer; box-shadow:0 3px 6px rgba(16,185,129,.35); }
    .footer { border-top:1px solid #e5e7eb; padding:16px; text-align:center; font-size:12px; color:#94a3b8; }
    .errorlist { list-style:none; padding:0; margin:8px 0; color:#b91c1c; font-size:13px; }
    @media (prefers-color-scheme: dark) {
      body { background:#0f172a; }
      .card { background:#1e293b; border-color:#334155; }
      .body { color:#f1f5f9; }
      .label { color:#e2e8f0; }
      .input { background:#0f172a; border-color:#334155; color:#f1f5f9; }
      .footer { color:#94a3b8; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="header">
        <img src="{% static 'core/images/harmony_pets_logo.png' %}" alt="Logo {{ site_name|default:'Harmony Pets' }}" />
        <h1>ðŸ”’ Defina sua nova senha</h1>
        <p>Crie uma senha forte e exclusiva.</p>
      </div>
      <div class="body">
        {% if validlink %}
          <form method="post" novalidate>
            {% csrf_token %}
            {% if form.errors %}
              <ul class="errorlist">
                {% for field, errors in form.errors.items %}
                  {% for error in errors %}<li>{{ error }}</li>{% endfor %}
                {% endfor %}
              </ul>
            {% endif %}

            <div class="form-group">
              <label class="label" for="id_new_password1">Nova senha</label>
              {{ form.new_password1|add_class:"input"|attr:"placeholder:â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" }}
            </div>
            <div class="form-group">
              <label class="label" for="id_new_password2">Confirme a nova senha</label>
              {{ form.new_password2|add_class:"input"|attr:"placeholder:â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" }}
            </div>
            <button type="submit" class="btn">Salvar nova senha</button>
          </form>
        {% else %}
          <p>Este link Ã© invÃ¡lido ou expirou. Solicite novamente a redefiniÃ§Ã£o de senha.</p>
          <p style="margin-top:16px;"><a class="btn" href="{% url 'password_reset' %}">Solicitar novo link</a></p>
        {% endif %}
      </div>
      <div class="footer">{{ site_name|default:"Harmony Pets" }} Â· Â© {% now "Y" %}</div>
    </div>
  </div>
</body>
</html>